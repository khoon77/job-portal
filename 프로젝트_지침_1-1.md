# 프로젝트 지침 1-1 - 작업 연속성 보장 시스템

## 📌 핵심 문제
**클로드 종료 후 재시작 시 이전 작업 상태가 유지되지 않는 문제**

### 현재 발생하는 문제들:
1. ❌ **로컬 웹페이지 접속 불가**
   - 이미 작동하던 `index_v1-1.html` 파일을 못 찾음
   - 매번 서버 재설정 필요

2. ❌ **CORS 문제 반복**
   - 이미 해결했던 CORS 설정이 초기화됨
   - Firebase 연결 문제가 다시 발생

3. ❌ **작업 컨텍스트 손실**
   - 이전에 수정한 파일 상태를 모름
   - 어디까지 작업했는지 파악 불가

---

## ✅ 지침 1-1: 자동 작업 상태 복구 시스템

### 1. 🔄 세션 시작 시 자동 실행
```bash
# 클로드 시작 시 자동으로 실행되어야 할 작업
1. 프로젝트 디렉토리 확인
2. 로컬 서버 자동 시작
3. 브라우저에서 작업 중이던 페이지 자동 열기
```

### 2. 📁 작업 상태 저장 파일 생성
**파일명**: `CLAUDE_SESSION.json`
```json
{
  "last_working_file": "index_v1-1.html",
  "server_port": 8080,
  "server_status": "running",
  "firebase_config": "configured",
  "cors_fixed": true,
  "last_update": "2025-08-30",
  "issues_resolved": [
    "CORS policy fixed",
    "Firebase connection established",
    "Local server configured"
  ],
  "current_version": "v1-1",
  "auto_start_commands": [
    "cd C:\\Users\\hoon7\\PycharmProjects\\NewJobPortal",
    "python -m http.server 8080",
    "open http://localhost:8080/index_v1-1.html"
  ]
}
```

### 3. 🚀 자동 시작 스크립트
**파일명**: `auto_start.py`
```python
import os
import json
import subprocess
import webbrowser
import time

def auto_start():
    # 세션 정보 읽기
    with open('CLAUDE_SESSION.json', 'r') as f:
        session = json.load(f)
    
    # 1. 디렉토리 이동
    os.chdir(r'C:\Users\hoon7\PycharmProjects\NewJobPortal')
    
    # 2. 서버 시작
    subprocess.Popen(['python', '-m', 'http.server', '8080'])
    time.sleep(2)
    
    # 3. 브라우저 열기
    webbrowser.open(f'http://localhost:8080/{session["last_working_file"]}')
    
    print(f"✅ 작업 환경 복구 완료")
    print(f"📂 작업 파일: {session['last_working_file']}")
    print(f"🌐 서버 포트: {session['server_port']}")
    print(f"📝 버전: {session['current_version']}")

if __name__ == "__main__":
    auto_start()
```

### 4. 🛠️ 즉시 실행 가능한 명령어
```bash
# Windows PowerShell 원라이너
powershell -Command "cd 'C:\Users\hoon7\PycharmProjects\NewJobPortal'; Start-Process powershell -ArgumentList '-Command', 'python -m http.server 8080' -WindowStyle Hidden; Start-Sleep -Seconds 2; Start-Process 'http://localhost:8080/index_v1-1.html'"
```

---

## 🎯 구현 효과

### Before (현재 상황):
- 매번 서버 재시작 필요 ⏱️ 5분 소요
- CORS 문제 재해결 ⏱️ 10분 소요  
- 파일 찾기 및 경로 설정 ⏱️ 5분 소요
- **총 20분 낭비**

### After (지침 1-1 적용 후):
- 자동 서버 시작 ⏱️ 5초
- 자동 페이지 열기 ⏱️ 2초
- 이전 작업 상태 즉시 복구 ⏱️ 0초
- **총 7초로 단축**

---

## 📋 체크리스트

### 클로드 종료 전:
- [ ] `CLAUDE_SESSION.json` 파일 업데이트
- [ ] 현재 작업 버전 저장
- [ ] 해결된 문제 목록 기록

### 클로드 시작 시:
- [ ] `auto_start.py` 실행
- [ ] 서버 상태 확인
- [ ] 브라우저 자동 열기 확인

---

## 🔧 문제 해결 가이드

### Q: 서버가 자동으로 시작되지 않을 때
```bash
# 수동 실행
python C:\Users\hoon7\PycharmProjects\NewJobPortal\auto_start.py
```

### Q: CORS 문제가 다시 발생할 때
```bash
# CORS 해결된 서버 실행
python C:\Users\hoon7\PycharmProjects\NewJobPortal\local_server.py
```

### Q: Firebase 연결이 안 될 때
- `index_v1-1.html` 파일이 이미 Firebase 설정 포함
- 브라우저 캐시 삭제 후 재시도

---

## 💡 핵심 원칙

1. **작업 연속성**: 종료 전 상태 = 시작 시 상태
2. **자동화 우선**: 수동 작업 최소화
3. **시간 절약**: 반복 작업 제거
4. **에러 방지**: 이미 해결한 문제 재발 방지

---

**📅 작성일**: 2025-08-30  
**🔄 버전**: 1-1  
**✅ 상태**: 즉시 적용 가능